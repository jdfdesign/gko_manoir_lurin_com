/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
// t: current time, b: begInnIng value, c: change In value, d: duration
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return f==undefined&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c:jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}}),function(a,b){a.fn.imagesLoaded=function(a){function f(){a.call(b,c)}function g(a){--d<=0&&a.target.src!==e&&(setTimeout(f),c.unbind("load error",g))}var b=this,c=b.find("img").add(b.filter("img")),d=c.length,e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";return d||f(),c.bind("load error",g).each(function(){if(this.complete||typeof this.complete=="undefined"){var a=this.src;this.src=e,this.src=a}}),b}}(jQuery),function(a,b,c){b.fn.touchwipe=function(a){var c={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return a&&b.extend(c,a),this.each(function(){function e(){this.removeEventListener("touchmove",f),a=null,d=!1}function f(f){c.preventDefaultEvents&&f.preventDefault();if(d){var g=f.touches[0].pageX,h=f.touches[0].pageY,i=a-g,j=b-h;Math.abs(i)>=c.min_move_x?(e(),i>0?c.wipeLeft():c.wipeRight()):Math.abs(j)>=c.min_move_y&&(e(),j>0?c.wipeDown():c.wipeUp())}}function g(c){c.touches.length==1&&(a=c.touches[0].pageX,b=c.touches[0].pageY,d=!0,this.addEventListener("touchmove",f,!1))}var a,b,d=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",g,!1)}),this},b.elastislide=function(a,c){this.$el=b(c),this._init(a)},b.elastislide.defaults={speed:450,easing:"",imageW:190,margin:3,border:2,minItems:1,current:0,onClick:function(){return!1}},b.elastislide.prototype={_init:function(a){this.options=b.extend(!0,{},b.elastislide.defaults,a),this.$slider=this.$el.find("ul"),this.$items=this.$slider.children("li"),this.itemsCount=this.$items.length,this.$esCarousel=this.$slider.parent(),this._validateOptions(),this._configure(),this._addControls(),this._initEvents(),this.$slider.show(),this._slideToCurrent(!1)},_validateOptions:function(){this.options.speed<0&&(this.options.speed=450),this.options.margin<0&&(this.options.margin=4),this.options.border<0&&(this.options.border=1);if(this.options.minItems<1||this.options.minItems>this.itemsCount)this.options.minItems=1;this.options.current>this.itemsCount-1&&(this.options.current=0)},_configure:function(){this.current=this.options.current,this.visibleWidth=this.$esCarousel.width(),this.visibleWidth<this.options.minItems*(this.options.imageW+2*this.options.border)+(this.options.minItems-1)*this.options.margin?(this._setDim((this.visibleWidth-(this.options.minItems-1)*this.options.margin)/this.options.minItems),this._setCurrentValues(),this.fitCount=this.options.minItems):(this._setDim(),this._setCurrentValues()),this.$slider.css({width:this.sliderW})},_setDim:function(a){this.$items.css({marginRight:this.options.margin,width:a?a:this.options.imageW+2*this.options.border}).children("a").css({borderWidth:this.options.border})},_setCurrentValues:function(){this.itemW=this.$items.outerWidth(!0),this.sliderW=this.itemW*this.itemsCount,this.visibleWidth=this.$esCarousel.width(),this.fitCount=Math.floor(this.visibleWidth/this.itemW)},_addControls:function(){this.$navPrev=b('<a href="#" class="carousel-control left">&lsaquo;</a>'),this.$navNext=b('<a href="#" class="carousel-control right">&rsaquo;</a>'),b('<div class="es-nav"/>').append(this.$navPrev).append(this.$navNext).appendTo(this.$el)},_toggleControls:function(a,b){a&&b?b===1?a==="right"?this.$navNext.show():this.$navPrev.show():a==="right"?this.$navNext.hide():this.$navPrev.hide():(this.current===this.itemsCount-1||this.fitCount>=this.itemsCount)&&this.$navNext.hide()},_initEvents:function(){var c=this;b(a).bind("resize.elastislide",function(a){c._reload(),clearTimeout(c.resetTimeout),c.resetTimeout=setTimeout(function(){c._slideToCurrent()},200)}),this.$navNext.bind("click.elastislide",function(a){return c._slide("right"),!1}),this.$navPrev.bind("click.elastislide",function(a){return c._slide("left"),!1}),this.$items.bind("click.elastislide",function(a){return c.options.onClick(b(this)),!1}),c.$slider.touchwipe({wipeLeft:function(){c._slide("right")},wipeRight:function(){c._slide("left")}})},reload:function(a){this._reload(),a&&a.call()},_reload:function(){var a=this;a._setCurrentValues(),a.visibleWidth<a.options.minItems*(a.options.imageW+2*a.options.border)+(a.options.minItems-1)*a.options.margin?(a._setDim((a.visibleWidth-(a.options.minItems-1)*a.options.margin)/a.options.minItems),a._setCurrentValues(),a.fitCount=a.options.minItems):(a._setDim(),a._setCurrentValues()),a.$slider.css({width:a.sliderW})},_slide:function(a,d,e,f){var g=parseFloat(this.$slider.css("margin-left"));if(d===c){var h=this.fitCount*this.itemW,d;if(h<0)return!1;if(a==="right"&&this.sliderW-(Math.abs(g)+h)<this.visibleWidth)h=this.sliderW-(Math.abs(g)+this.visibleWidth)-this.options.margin,this._toggleControls("right",-1),this._toggleControls("left",1);else if(a==="left"&&Math.abs(g)-h<0)h=Math.abs(g),this._toggleControls("left",-1),this._toggleControls("right",1);else{var i;a==="right"?i=Math.abs(g)+this.options.margin+Math.abs(h):i=Math.abs(g)-this.options.margin-Math.abs(h),i>0?this._toggleControls("left",1):this._toggleControls("left",-1),i<this.sliderW-this.visibleWidth?this._toggleControls("right",1):this._toggleControls("right",-1)}a==="right"?d="-="+h:d="+="+h}else{var i=Math.abs(d);Math.max(this.sliderW,this.visibleWidth)-i<this.visibleWidth&&(d=-(Math.max(this.sliderW,this.visibleWidth)-this.visibleWidth),d!==0&&(d+=this.options.margin),this._toggleControls("right",-1),i=Math.abs(d)),i>0?this._toggleControls("left",1):this._toggleControls("left",-1),Math.max(this.sliderW,this.visibleWidth)-this.visibleWidth>i+this.options.margin?this._toggleControls("right",1):this._toggleControls("right",-1)}b.fn.applyStyle=e===c?b.fn.animate:b.fn.css;var j={marginLeft:d},k=this;this.$slider.stop().applyStyle(j,b.extend(!0,[],{duration:this.options.speed,easing:this.options.easing,complete:function(){f&&f.call()}}))},_slideToCurrent:function(a){var b=this.current*this.itemW;this._slide("",-b,a)},add:function(a,b){this.$items=this.$items.add(a),this.itemsCount=this.$items.length,this._setDim(),this._setCurrentValues(),this.$slider.css({width:this.sliderW}),this._slideToCurrent(),b&&b.call(a)},setCurrent:function(a,b){this.current=a;var c=Math.abs(parseFloat(this.$slider.css("margin-left"))),d=c+this.visibleWidth,e=Math.abs(this.current*this.itemW);(e+this.itemW>d||e<c)&&this._slideToCurrent(),b&&b.call()},destroy:function(a){this._destroy(a)},_destroy:function(c){this.$el.unbind(".elastislide").removeData("elastislide"),b(a).unbind(".elastislide"),c&&c.call()}};var d=function(a){this.console&&console.error(a)};b.fn.elastislide=function(a){if(typeof a=="string"){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var e=b.data(this,"elastislide");if(!e){d("cannot call methods on elastislide prior to initialization; attempted to call method '"+a+"'");return}if(!b.isFunction(e[a])||a.charAt(0)==="_"){d("no such method '"+a+"' for elastislide instance");return}e[a].apply(e,c)})}else this.each(function(){var c=b.data(this,"elastislide");c||b.data(this,"elastislide",new b.elastislide(a,this))});return this}}(window,jQuery),$(function(){Gallery=function(){var a=0,b=!1,c,d,e,f=156,g=0;return init=function(b,h){c=b,typeof h!="undefined"&&(f=h),d=c.find("div.images-thumbnails-container"),e=d.find("a"),g=e.length,e.imagesLoaded(function(){var b=d.find($("ul")),c=b.width(),f=d.width();f>c&&b.css({width:c}),_addImageWrapper(),_showImage(e.eq(a))}),g>1&&_initCarousel()},_initCarousel=function(){d.show().elastislide({imageW:156,onClick:function(c){if(b)return!1;b=!0,_showImage(c.find("a")),a=c.index()}}),d.elastislide("setCurrent",a)},_addImageWrapper=function(){var a=c.find("a.image-large-nav-prev"),b=c.find("a.image-large-nav-next"),d=c.find("div.image-large");g>1?(a.bind("click.rgGallery",function(a){return _navigate("left"),!1}),b.bind("click.rgGallery",function(a){return _navigate("right"),!1}),d.touchwipe({wipeLeft:function(){_navigate("right")},wipeRight:function(){_navigate("left")},preventDefaultEvents:!1}),$(document).bind("keyup.rgGallery",function(a){a.keyCode==39?_navigate("right"):a.keyCode==37&&_navigate("left")})):(a.css("display","none"),b.css("display","none"))},_navigate=function(c){if(b)return!1;b=!0,c==="right"?a+1>=g?a=0:++a:c==="left"&&(a-1<0?a=g-1:--a),_showImage(e.eq(a))},_showImage=function(f){var g=c.find("div.image-large-loader").show();e.removeClass("selected"),f.addClass("selected");var h=f.find("img"),i=h.parent().attr("href"),j=h.data("description");$("<img/>").load(function(){c.find("div.image-large").empty().append('<img src="'+i+'"/>'),g.hide(),d.elastislide("reload"),d.elastislide("setCurrent",a),b=!1}).attr("src",i)},{init:init}}()}),function(a){function c(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",b.wheelDelta&&(e=b.wheelDelta/120),b.detail&&(e=-b.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),a.event.handle.apply(this,d)}var b=["DOMMouseScroll","mousewheel"];a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],c,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a,b,c){a.fn.jScrollPane=function(b){function d(b,d){function T(d){var f,q,r,t,u,w,x=!1,y=!1;e=d;if(g===c)u=b.scrollTop(),w=b.scrollLeft(),b.css({overflow:"hidden",padding:0}),h=b.innerWidth()+L,i=b.innerHeight(),b.width(h),g=a('<div class="jspPane" />').css("padding",K).append(b.children()),j=a('<div class="jspContainer" />').css({width:h+"px",height:i+"px"}).append(g).appendTo(b);else{b.css("width",""),x=e.stickToBottom&&bo(),y=e.stickToRight&&bp(),t=b.innerWidth()+L!=h||b.outerHeight()!=i,t&&(h=b.innerWidth()+L,i=b.innerHeight(),j.css({width:h+"px",height:i+"px"}));if(!t&&M==k&&g.outerHeight()==l){b.width(h);return}M=k,g.css("width",""),b.width(h),j.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}g.css("overflow","auto"),d.contentWidth?k=d.contentWidth:k=g[0].scrollWidth,l=g[0].scrollHeight,g.css("overflow",""),m=k/h,n=l/i,o=n>1,p=m>1,!p&&!o?(b.removeClass("jspScrollable"),g.css({top:0,width:j.width()-L}),br(),bu(),bw(),bb(),by()):(b.addClass("jspScrollable"),f=e.maintainPosition&&(s||v),f&&(q=bm(),r=bn()),U(),W(),Y(),f&&(bk(y?k-h:q,!1),bj(x?l-i:r,!1)),bt(),bq(),bA(),e.enableKeyboardNavigation&&bv(),e.clickOnTrack&&ba(),bx(),e.hijackInternalLinks&&bz()),e.autoReinitialise&&!J?J=setInterval(function(){T(e)},e.autoReinitialiseDelay):!e.autoReinitialise&&J&&clearInterval(J),u&&b.scrollTop(0)&&bj(u,!1),w&&b.scrollLeft(0)&&bk(w,!1),b.trigger("jsp-initialised",[p||o])}function U(){o&&(j.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),w=j.find(">.jspVerticalBar"),x=w.find(">.jspTrack"),q=x.find(">.jspDrag"),e.showArrows&&(B=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",$(0,-1)).bind("click.jsp",bs),C=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",$(0,1)).bind("click.jsp",bs),e.arrowScrollOnHover&&(B.bind("mouseover.jsp",$(0,-1,B)),C.bind("mouseover.jsp",$(0,1,C))),Z(x,e.verticalArrowPositions,B,C)),z=i,j.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){z-=a(this).outerHeight()}),q.hover(function(){q.addClass("jspHover")},function(){q.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",bs),q.addClass("jspActive");var c=b.pageY-q.position().top;return a("html").bind("mousemove.jsp",function(a){bd(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",bc),!1}),V())}function V(){x.height(z+"px"),s=0,y=e.verticalGutter+x.outerWidth(),g.width(h-y-L);try{w.position().left===0&&g.css("margin-left",y+"px")}catch(a){}}function W(){p&&(j.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),D=j.find(">.jspHorizontalBar"),E=D.find(">.jspTrack"),t=E.find(">.jspDrag"),e.showArrows&&(H=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",$(-1,0)).bind("click.jsp",bs),I=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",$(1,0)).bind("click.jsp",bs),e.arrowScrollOnHover&&(H.bind("mouseover.jsp",$(-1,0,H)),I.bind("mouseover.jsp",$(1,0,I))),Z(E,e.horizontalArrowPositions,H,I)),t.hover(function(){t.addClass("jspHover")},function(){t.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",bs),t.addClass("jspActive");var c=b.pageX-t.position().left;return a("html").bind("mousemove.jsp",function(a){bf(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",bc),!1}),F=j.innerWidth(),X())}function X(){j.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){F-=a(this).outerWidth()}),E.width(F+"px"),v=0}function Y(){if(p&&o){var b=E.outerHeight(),c=x.outerWidth();z-=b,a(D).find(">.jspCap:visible,>.jspArrow").each(function(){F+=a(this).outerWidth()}),F-=c,i-=c,h-=b,E.parent().append(a('<div class="jspCorner" />').css("width",b+"px")),V(),X()}p&&g.width(j.outerWidth()-L+"px"),l=g.outerHeight(),n=l/i,p&&(G=Math.ceil(1/m*F),G>e.horizontalDragMaxWidth?G=e.horizontalDragMaxWidth:G<e.horizontalDragMinWidth&&(G=e.horizontalDragMinWidth),t.width(G+"px"),u=F-G,bg(v)),o&&(A=Math.ceil(1/n*z),A>e.verticalDragMaxHeight?A=e.verticalDragMaxHeight:A<e.verticalDragMinHeight&&(A=e.verticalDragMinHeight),q.height(A+"px"),r=z-A,be(s))}function Z(a,b,c,d){var e="before",f="after",g;b=="os"&&(b=/Mac/.test(navigator.platform)?"after":"split"),b==e?f=b:b==f&&(e=b,g=c,c=d,d=g),a[e](c)[f](d)}function $(a,b,c){return function(){return _(a,b,this,c),this.blur(),!1}}function _(b,c,d,g){d=a(d).addClass("jspActive");var h,i,j=!0,k=function(){b!==0&&f.scrollByX(b*e.arrowButtonSpeed),c!==0&&f.scrollByY(c*e.arrowButtonSpeed),i=setTimeout(k,j?e.initialDelay:e.arrowRepeatFreq),j=!1};k(),h=g?"mouseout.jsp":"mouseup.jsp",g=g||a("html"),g.bind(h,function(){d.removeClass("jspActive"),i&&clearTimeout(i),i=null,g.unbind(h)})}function ba(){bb(),o&&x.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d=a(this),g=d.offset(),h=b.pageY-g.top-s,j,k=!0,m=function(){var a=d.offset(),c=b.pageY-a.top-A/2,g=i*e.scrollPagePercent,o=r*g/(l-i);if(h<0)s-o>c?f.scrollByY(-g):bd(c);else{if(!(h>0)){n();return}s+o<c?f.scrollByY(g):bd(c)}j=setTimeout(m,k?e.initialDelay:e.trackClickRepeatFreq),k=!1},n=function(){j&&clearTimeout(j),j=null,a(document).unbind("mouseup.jsp",n)};return m(),a(document).bind("mouseup.jsp",n),!1}}),p&&E.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d=a(this),g=d.offset(),i=b.pageX-g.left-v,j,l=!0,m=function(){var a=d.offset(),c=b.pageX-a.left-G/2,g=h*e.scrollPagePercent,o=u*g/(k-h);if(i<0)v-o>c?f.scrollByX(-g):bf(c);else{if(!(i>0)){n();return}v+o<c?f.scrollByX(g):bf(c)}j=setTimeout(m,l?e.initialDelay:e.trackClickRepeatFreq),l=!1},n=function(){j&&clearTimeout(j),j=null,a(document).unbind("mouseup.jsp",n)};return m(),a(document).bind("mouseup.jsp",n),!1}})}function bb(){E&&E.unbind("mousedown.jsp"),x&&x.unbind("mousedown.jsp")}function bc(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),q&&q.removeClass("jspActive"),t&&t.removeClass("jspActive")}function bd(a,b){if(!o)return;a<0?a=0:a>r&&(a=r),b===c&&(b=e.animateScroll),b?f.animate(q,"top",a,be):(q.css("top",a),be(a))}function be(a){a===c&&(a=q.position().top),j.scrollTop(0),s=a;var d=s===0,e=s==r,f=a/r,h=-f*(l-i);if(N!=d||P!=e)N=d,P=e,b.trigger("jsp-arrow-change",[N,P,O,Q]);bh(d,e),g.css("top",h),b.trigger("jsp-scroll-y",[-h,d,e]).trigger("scroll")}function bf(a,b){if(!p)return;a<0?a=0:a>u&&(a=u),b===c&&(b=e.animateScroll),b?f.animate(t,"left",a,bg):(t.css("left",a),bg(a))}function bg(a){a===c&&(a=t.position().left),j.scrollTop(0),v=a;var d=v===0,e=v==u,f=a/u,i=-f*(k-h);if(O!=d||Q!=e)O=d,Q=e,b.trigger("jsp-arrow-change",[N,P,O,Q]);bi(d,e),g.css("left",i),b.trigger("jsp-scroll-x",[-i,d,e]).trigger("scroll")}function bh(a,b){e.showArrows&&(B[a?"addClass":"removeClass"]("jspDisabled"),C[b?"addClass":"removeClass"]("jspDisabled"))}function bi(a,b){e.showArrows&&(H[a?"addClass":"removeClass"]("jspDisabled"),I[b?"addClass":"removeClass"]("jspDisabled"))}function bj(a,b){var c=a/(l-i);bd(c*r,b)}function bk(a,b){var c=a/(k-h);bf(c*u,b)}function bl(b,c,d){var f,g,k,l=0,m=0,n,o,p,q,r,s;try{f=a(b)}catch(t){return}g=f.outerHeight(),k=f.outerWidth(),j.scrollTop(0),j.scrollLeft(0);while(!f.is(".jspPane")){l+=f.position().top,m+=f.position().left,f=f.offsetParent();if(/^body|html$/i.test(f[0].nodeName))return}n=bn(),p=n+i,l<n||c?r=l-e.verticalGutter:l+g>p&&(r=l-i+g+e.verticalGutter),r&&bj(r,d),o=bm(),q=o+h,m<o||c?s=m-e.horizontalGutter:m+k>q&&(s=m-h+k+e.horizontalGutter),s&&bk(s,d)}function bm(){return-g.position().left}function bn(){return-g.position().top}function bo(){var a=l-i;return a>20&&a-bn()<10}function bp(){var a=k-h;return a>20&&a-bm()<10}function bq(){j.unbind(S).bind(S,function(a,b,c,d){var g=v,h=s;return f.scrollBy(c*e.mouseWheelSpeed,-d*e.mouseWheelSpeed,!1),g==v&&h==s})}function br(){j.unbind(S)}function bs(){return!1}function bt(){g.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){bl(a.target,!1)})}function bu(){g.find(":input,a").unbind("focus.jsp")}function bv(){function k(){var a=v,b=s;switch(c){case 40:f.scrollByY(e.keyboardSpeed,!1);break;case 38:f.scrollByY(-e.keyboardSpeed,!1);break;case 34:case 32:f.scrollByY(i*e.scrollPagePercent,!1);break;case 33:f.scrollByY(-i*e.scrollPagePercent,!1);break;case 39:f.scrollByX(e.keyboardSpeed,!1);break;case 37:f.scrollByX(-e.keyboardSpeed,!1)}return d=a!=v||b!=s,d}var c,d,h=[];p&&h.push(D[0]),o&&h.push(w[0]),g.focus(function(){b.focus()}),b.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(b){if(b.target!==this&&(!h.length||!a(b.target).closest(h).length))return;var e=v,f=s;switch(b.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:c=b.keyCode,k();break;case 35:bj(l-i),c=null;break;case 36:bj(0),c=null}return d=b.keyCode==c&&e!=v||f!=s,!d}).bind("keypress.jsp",function(a){return a.keyCode==c&&k(),!d}),e.hideFocus?(b.css("outline","none"),"hideFocus"in j[0]&&b.attr("hideFocus",!0)):(b.css("outline",""),"hideFocus"in j[0]&&b.attr("hideFocus",!1))}function bw(){b.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function bx(){if(location.hash&&location.hash.length>1){var b,c,d=escape(location.hash);try{b=a(d)}catch(e){return}b.length&&g.find(d)&&(j.scrollTop()===0?c=setInterval(function(){j.scrollTop()>0&&(bl(d,!0),a(document).scrollTop(j.position().top),clearInterval(c))},50):(bl(d,!0),a(document).scrollTop(j.position().top)))}}function by(){a("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function bz(){by(),a("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var a=this.href.split("#"),b;if(a.length>1){b=a[1];if(b.length>0&&g.find("#"+b).length>0)return bl("#"+b,!0),!1}})}function bA(){var a,b,c,d,e,g=!1;j.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(f){var h=f.originalEvent.touches[0];a=bm(),b=bn(),c=h.pageX,d=h.pageY,e=!1,g=!0}).bind("touchmove.jsp",function(h){if(!g)return;var i=h.originalEvent.touches[0],j=v,k=s;return f.scrollTo(a+c-i.pageX,b+d-i.pageY),e=e||Math.abs(c-i.pageX)>5||Math.abs(d-i.pageY)>5,j==v&&k==s}).bind("touchend.jsp",function(a){g=!1}).bind("click.jsp-touchclick",function(a){if(e)return e=!1,!1})}function bB(){var a=bn(),c=bm();b.removeClass("jspScrollable").unbind(".jsp"),b.replaceWith(R.append(g.children())),R.scrollTop(a),R.scrollLeft(c)}var e,f=this,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N=!0,O=!0,P=!1,Q=!1,R=b.clone(!1,!1).empty(),S=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";K=b.css("paddingTop")+" "+b.css("paddingRight")+" "+b.css("paddingBottom")+" "+b.css("paddingLeft"),L=(parseInt(b.css("paddingLeft"),10)||0)+(parseInt(b.css("paddingRight"),10)||0),a.extend(f,{reinitialise:function(b){b=a.extend({},e,b),T(b)},scrollToElement:function(a,b,c){bl(a,b,c)},scrollTo:function(a,b,c){bk(a,c),bj(b,c)},scrollToX:function(a,b){bk(a,b)},scrollToY:function(a,b){bj(a,b)},scrollToPercentX:function(a,b){bk(a*(k-h),b)},scrollToPercentY:function(a,b){bj(a*(l-i),b)},scrollBy:function(a,b,c){f.scrollByX(a,c),f.scrollByY(b,c)},scrollByX:function(a,b){var c=bm()+Math[a<0?"floor":"ceil"](a),d=c/(k-h);bf(d*u,b)},scrollByY:function(a,b){var c=bn()+Math[a<0?"floor":"ceil"](a),d=c/(l-i);bd(d*r,b)},positionDragX:function(a,b){bf(a,b)},positionDragY:function(a,b){bd(a,b)},animate:function(a,b,c,d){var f={};f[b]=c,a.animate(f,{duration:e.animateDuration,easing:e.animateEase,queue:!1,step:d})},getContentPositionX:function(){return bm()},getContentPositionY:function(){return bn()},getContentWidth:function(){return k},getContentHeight:function(){return l},getPercentScrolledX:function(){return bm()/(k-h)},getPercentScrolledY:function(){return bn()/(l-i)},getIsScrollableH:function(){return p},getIsScrollableV:function(){return o},getContentPane:function(){return g},scrollToBottom:function(a){bd(r,a)},hijackInternalLinks:function(){bz()},destroy:function(){bB()}}),T(d)}return b=a.extend({},a.fn.jScrollPane.defaults,b),a.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){b[this]=b[this]||b.speed}),this.each(function(){var c=a(this),f=c.data("jsp");f?f.reinitialise(b):(f=new d(c,b),c.data("jsp",f))})},a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),$(document).ready(function(){var a=$(".page_content:first"),b=!1,c,d,e;remove_scrollpane=function(){d.destroy(),c.remove(),a.unwrap(),a.css({position:"relative","max-width":"none"}),b=!1},toggle_scrollpane=function(){return c.hasClass("open")?e.stop().animate({right:-320},400):e.stop().animate({right:0},400),c.toggleClass("open"),!1},init_scrollpane=function(){d=a.wrap("<div id='scrollpane-wrapper' />").jScrollPane({showArrows:!0,autoReinitialise:!1}).data("jsp"),e=$("#scrollpane-wrapper"),$("<a href='#' id='scrollpane-tab' class='open'><span></span></a>").prependTo(e),c=$("#scrollpane-tab"),c.on("click",toggle_scrollpane),b=!0},console.log(screen.width),screen.width>820&&(f_viewport_wh().w>819&&init_scrollpane(),$(window).on("throttledresize",function(){f_viewport_wh().w>820&&!b?init_scrollpane():b&&remove_scrollpane()})),$(".images:first").length>0&&Gallery.init($(".images:first"))});